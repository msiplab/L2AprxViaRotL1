%% model name

sys = 'abslut125_rombina_32/Subsystem32bit';
%%
%divide_val = [ -1.0000000000000000000000000000000000000000000000000000000, -0.9838709677419354981964261241955682635307312011718750000, -0.9677419354838709963928522483911365270614624023437500000, -0.9516129032258063835669759100710507482290267944335937500, -0.9354838709677418817634020342666190117597579956054687500, -0.9193548387096773799598281584621872752904891967773437500, -0.9032258064516128781562542826577555388212203979492187500, -0.8870967741935483763526804068533238023519515991210937500, -0.8709677419354838745491065310488920658826828002929687500, -0.8548387096774193727455326552444603294134140014648437500, -0.8387096774193547599196563169243745505809783935546875000, -0.8225806451612902581160824411199428141117095947265625000, -0.8064516129032257563125085653155110776424407958984375000, -0.7903225806451612545089346895110793411731719970703125000, -0.7741935483870967527053608137066476047039031982421875000, -0.7580645161290322509017869379022158682346343994140625000, -0.7419354838709677490982130620977841317653656005859375000, -0.7258064516129032472946391862933523952960968017578125000, -0.7096774193548387454910653104889206588268280029296875000, -0.6935483870967741326651889721688348799943923950195312500, -0.6774193548387096308616150963644031435251235961914062500, -0.6612903225806451290580412205599714070558547973632812500, -0.6451612903225806272544673447555396705865859985351562500, -0.6290322580645161254508934689511079341173171997070312500, -0.6129032258064516236473195931466761976480484008789062500, -0.5967741935483871218437457173422444611787796020507812500, -0.5806451612903225090178693790221586823463439941406250000, -0.5645161290322580072142955032177269458770751953125000000, -0.5483870967741935054107216274132952094078063964843750000, -0.5322580645161290036071477516088634729385375976562500000, -0.5161290322580645018035738758044317364692687988281250000, -0.5000000000000000000000000000000000000000000000000000000, -0.4838709677419354981964261241955682635307312011718750000, -0.4677419354838709408817010171333095058798789978027343750, -0.4516129032258064390781271413288777694106101989746093750, -0.4354838709677419372745532655244460329413414001464843750, -0.4193548387096773799598281584621872752904891967773437500, -0.4032258064516128781562542826577555388212203979492187500, -0.3870967741935483763526804068533238023519515991210937500, -0.3709677419354838745491065310488920658826828002929687500, -0.3548387096774193727455326552444603294134140014648437500, -0.3387096774193548154308075481822015717625617980957031250, -0.3225806451612903136272336723777698352932929992675781250, -0.3064516129032258118236597965733380988240242004394531250, -0.2903225806451612545089346895110793411731719970703125000, -0.2741935483870967527053608137066476047039031982421875000, -0.2580645161290322509017869379022158682346343994140625000, -0.2419354838709677490982130620977841317653656005859375000, -0.2258064516129032195390635706644388847053050994873046875, -0.2096774193548386899799140792310936376452445983886718750, -0.1935483870967741881763402034266619011759757995605468750, -0.1774193548387096863727663276222301647067070007324218750, -0.1612903225806451568136168361888849176466464996337890625, -0.1451612903225806272544673447555396705865859985351562500, -0.1290322580645161254508934689511079341173171997070312500, -0.1129032258064516097695317853322194423526525497436523438, -0.0967741935483870940881701017133309505879878997802734375, -0.0806451612903225784068084180944424588233232498168945312, -0.0645161290322580627254467344755539670586585998535156250, -0.0483870967741935470440850508566654752939939498901367188, -0.0322580645161290313627233672377769835293292999267578125, -0.0161290322580645156813616836188884917646646499633789062, 0.0000000000000000000000000000000000000000000000000000000, 0.0161290322580645156813616836188884917646646499633789062, 0.0322580645161290313627233672377769835293292999267578125, 0.0483870967741935470440850508566654752939939498901367188, 0.0645161290322580627254467344755539670586585998535156250, 0.0806451612903225784068084180944424588233232498168945312, 0.0967741935483870940881701017133309505879878997802734375, 0.1129032258064516097695317853322194423526525497436523438, 0.1290322580645161254508934689511079341173171997070312500, 0.1451612903225806272544673447555396705865859985351562500, 0.1612903225806451568136168361888849176466464996337890625, 0.1774193548387096863727663276222301647067070007324218750, 0.1935483870967741881763402034266619011759757995605468750, 0.2096774193548386899799140792310936376452445983886718750, 0.2258064516129032195390635706644388847053050994873046875, 0.2419354838709677490982130620977841317653656005859375000, 0.2580645161290322509017869379022158682346343994140625000, 0.2741935483870967527053608137066476047039031982421875000, 0.2903225806451612545089346895110793411731719970703125000, 0.3064516129032258118236597965733380988240242004394531250, 0.3225806451612903136272336723777698352932929992675781250, 0.3387096774193548154308075481822015717625617980957031250, 0.3548387096774193727455326552444603294134140014648437500, 0.3709677419354838745491065310488920658826828002929687500, 0.3870967741935483763526804068533238023519515991210937500, 0.4032258064516128781562542826577555388212203979492187500, 0.4193548387096773799598281584621872752904891967773437500, 0.4354838709677419372745532655244460329413414001464843750, 0.4516129032258064390781271413288777694106101989746093750, 0.4677419354838709408817010171333095058798789978027343750, 0.4838709677419354981964261241955682635307312011718750000, 0.5000000000000000000000000000000000000000000000000000000, 0.5161290322580645018035738758044317364692687988281250000, 0.5322580645161290036071477516088634729385375976562500000, 0.5483870967741935054107216274132952094078063964843750000, 0.5645161290322580072142955032177269458770751953125000000, 0.5806451612903225090178693790221586823463439941406250000, 0.5967741935483871218437457173422444611787796020507812500, 0.6129032258064516236473195931466761976480484008789062500, 0.6290322580645161254508934689511079341173171997070312500, 0.6451612903225806272544673447555396705865859985351562500, 0.6612903225806451290580412205599714070558547973632812500, 0.6774193548387096308616150963644031435251235961914062500, 0.6935483870967741326651889721688348799943923950195312500, 0.7096774193548387454910653104889206588268280029296875000, 0.7258064516129032472946391862933523952960968017578125000, 0.7419354838709677490982130620977841317653656005859375000, 0.7580645161290322509017869379022158682346343994140625000, 0.7741935483870967527053608137066476047039031982421875000, 0.7903225806451612545089346895110793411731719970703125000, 0.8064516129032257563125085653155110776424407958984375000, 0.8225806451612902581160824411199428141117095947265625000, 0.8387096774193547599196563169243745505809783935546875000, 0.8548387096774193727455326552444603294134140014648437500, 0.8709677419354838745491065310488920658826828002929687500, 0.8870967741935483763526804068533238023519515991210937500, 0.9032258064516128781562542826577555388212203979492187500, 0.9193548387096773799598281584621872752904891967773437500, 0.9354838709677418817634020342666190117597579956054687500, 0.9516129032258063835669759100710507482290267944335937500, 0.9677419354838709963928522483911365270614624023437500000, 0.9838709677419354981964261241955682635307312011718750000, 1.0000000000000000000000000000000000000000000000000000000,];
divide_val = {'-1.0000000000000000000000000000000000000000000000000000000', ' -0.9838709677419354981964261241955682635307312011718750000', ' -0.9677419354838709963928522483911365270614624023437500000', ' -0.9516129032258063835669759100710507482290267944335937500', ' -0.9354838709677418817634020342666190117597579956054687500', ' -0.9193548387096773799598281584621872752904891967773437500', ' -0.9032258064516128781562542826577555388212203979492187500', ' -0.8870967741935483763526804068533238023519515991210937500', ' -0.8709677419354838745491065310488920658826828002929687500', ' -0.8548387096774193727455326552444603294134140014648437500', ' -0.8387096774193547599196563169243745505809783935546875000', ' -0.8225806451612902581160824411199428141117095947265625000', ' -0.8064516129032257563125085653155110776424407958984375000', ' -0.7903225806451612545089346895110793411731719970703125000', ' -0.7741935483870967527053608137066476047039031982421875000', ' -0.7580645161290322509017869379022158682346343994140625000', ' -0.7419354838709677490982130620977841317653656005859375000', ' -0.7258064516129032472946391862933523952960968017578125000', ' -0.7096774193548387454910653104889206588268280029296875000', ' -0.6935483870967741326651889721688348799943923950195312500', ' -0.6774193548387096308616150963644031435251235961914062500', ' -0.6612903225806451290580412205599714070558547973632812500', ' -0.6451612903225806272544673447555396705865859985351562500', ' -0.6290322580645161254508934689511079341173171997070312500', ' -0.6129032258064516236473195931466761976480484008789062500', ' -0.5967741935483871218437457173422444611787796020507812500', ' -0.5806451612903225090178693790221586823463439941406250000', ' -0.5645161290322580072142955032177269458770751953125000000', ' -0.5483870967741935054107216274132952094078063964843750000', ' -0.5322580645161290036071477516088634729385375976562500000', ' -0.5161290322580645018035738758044317364692687988281250000', ' -0.5000000000000000000000000000000000000000000000000000000', ' -0.4838709677419354981964261241955682635307312011718750000', ' -0.4677419354838709408817010171333095058798789978027343750', ' -0.4516129032258064390781271413288777694106101989746093750', ' -0.4354838709677419372745532655244460329413414001464843750', ' -0.4193548387096773799598281584621872752904891967773437500', ' -0.4032258064516128781562542826577555388212203979492187500', ' -0.3870967741935483763526804068533238023519515991210937500', ' -0.3709677419354838745491065310488920658826828002929687500', ' -0.3548387096774193727455326552444603294134140014648437500', ' -0.3387096774193548154308075481822015717625617980957031250', ' -0.3225806451612903136272336723777698352932929992675781250', ' -0.3064516129032258118236597965733380988240242004394531250', ' -0.2903225806451612545089346895110793411731719970703125000', ' -0.2741935483870967527053608137066476047039031982421875000', ' -0.2580645161290322509017869379022158682346343994140625000', ' -0.2419354838709677490982130620977841317653656005859375000', ' -0.2258064516129032195390635706644388847053050994873046875', ' -0.2096774193548386899799140792310936376452445983886718750', ' -0.1935483870967741881763402034266619011759757995605468750', ' -0.1774193548387096863727663276222301647067070007324218750', ' -0.1612903225806451568136168361888849176466464996337890625', ' -0.1451612903225806272544673447555396705865859985351562500', ' -0.1290322580645161254508934689511079341173171997070312500', ' -0.1129032258064516097695317853322194423526525497436523438', ' -0.0967741935483870940881701017133309505879878997802734375', ' -0.0806451612903225784068084180944424588233232498168945312', ' -0.0645161290322580627254467344755539670586585998535156250', ' -0.0483870967741935470440850508566654752939939498901367188', ' -0.0322580645161290313627233672377769835293292999267578125', ' -0.0161290322580645156813616836188884917646646499633789062', ' 0.0000000000000000000000000000000000000000000000000000000', ' 0.0161290322580645156813616836188884917646646499633789062', ' 0.0322580645161290313627233672377769835293292999267578125', ' 0.0483870967741935470440850508566654752939939498901367188', ' 0.0645161290322580627254467344755539670586585998535156250', ' 0.0806451612903225784068084180944424588233232498168945312', ' 0.0967741935483870940881701017133309505879878997802734375', ' 0.1129032258064516097695317853322194423526525497436523438', ' 0.1290322580645161254508934689511079341173171997070312500', ' 0.1451612903225806272544673447555396705865859985351562500', ' 0.1612903225806451568136168361888849176466464996337890625', ' 0.1774193548387096863727663276222301647067070007324218750', ' 0.1935483870967741881763402034266619011759757995605468750', ' 0.2096774193548386899799140792310936376452445983886718750', ' 0.2258064516129032195390635706644388847053050994873046875', ' 0.2419354838709677490982130620977841317653656005859375000', ' 0.2580645161290322509017869379022158682346343994140625000', ' 0.2741935483870967527053608137066476047039031982421875000', ' 0.2903225806451612545089346895110793411731719970703125000', ' 0.3064516129032258118236597965733380988240242004394531250', ' 0.3225806451612903136272336723777698352932929992675781250', ' 0.3387096774193548154308075481822015717625617980957031250', ' 0.3548387096774193727455326552444603294134140014648437500', ' 0.3709677419354838745491065310488920658826828002929687500', ' 0.3870967741935483763526804068533238023519515991210937500', ' 0.4032258064516128781562542826577555388212203979492187500', ' 0.4193548387096773799598281584621872752904891967773437500', ' 0.4354838709677419372745532655244460329413414001464843750', ' 0.4516129032258064390781271413288777694106101989746093750', ' 0.4677419354838709408817010171333095058798789978027343750', ' 0.4838709677419354981964261241955682635307312011718750000', ' 0.5000000000000000000000000000000000000000000000000000000', ' 0.5161290322580645018035738758044317364692687988281250000', ' 0.5322580645161290036071477516088634729385375976562500000', ' 0.5483870967741935054107216274132952094078063964843750000', ' 0.5645161290322580072142955032177269458770751953125000000', ' 0.5806451612903225090178693790221586823463439941406250000', ' 0.5967741935483871218437457173422444611787796020507812500', ' 0.6129032258064516236473195931466761976480484008789062500', ' 0.6290322580645161254508934689511079341173171997070312500', ' 0.6451612903225806272544673447555396705865859985351562500', ' 0.6612903225806451290580412205599714070558547973632812500', ' 0.6774193548387096308616150963644031435251235961914062500', ' 0.6935483870967741326651889721688348799943923950195312500', ' 0.7096774193548387454910653104889206588268280029296875000', ' 0.7258064516129032472946391862933523952960968017578125000', ' 0.7419354838709677490982130620977841317653656005859375000', ' 0.7580645161290322509017869379022158682346343994140625000', ' 0.7741935483870967527053608137066476047039031982421875000', ' 0.7903225806451612545089346895110793411731719970703125000', ' 0.8064516129032257563125085653155110776424407958984375000', ' 0.8225806451612902581160824411199428141117095947265625000', ' 0.8387096774193547599196563169243745505809783935546875000', ' 0.8548387096774193727455326552444603294134140014648437500', ' 0.8709677419354838745491065310488920658826828002929687500', ' 0.8870967741935483763526804068533238023519515991210937500', ' 0.9032258064516128781562542826577555388212203979492187500', ' 0.9193548387096773799598281584621872752904891967773437500', ' 0.9354838709677418817634020342666190117597579956054687500', ' 0.9516129032258063835669759100710507482290267944335937500', ' 0.9677419354838709963928522483911365270614624023437500000', ' 0.9838709677419354981964261241955682635307312011718750000', ' 1.0000000000000000000000000000000000000000000000000000000'};

for i = 0:124
    set_param(sys+"/logi_b"+num2str(i), 'const', divide_val{i+1})
end
%% double notoki
for i = 0:124
    set_param(sys+"/logi_b"+num2str(i), 'gui_display_data_type', 'Floating-point')
    set_param(sys+"/logi_b"+num2str(i), 'preci_type', 'Double')
end

%% bit change
for i = 0:124
    set_param(sys+"/logi_b"+num2str(i), 'gui_display_data_type', 'Fixed-point')
    set_param(sys+"/logi_b"+num2str(i), 'arith_type', 'Signed')
    set_param(sys+"/logi_b"+num2str(i), 'n_bits', '32')
    set_param(sys+"/logi_b"+num2str(i), 'bin_pt', '30')
end

for g = 1:2
    set_param(sys+"/Gate_In"+num2str(g), 'gui_display_data_type', 'Fixed-point')
    % -1~1
    set_param(sys+"/Gate_In"+num2str(g), 'arith_type', 'Signed')
    % 0~1
    %set_param(sys+"/Gate_In"+num2str(g), 'arith_type', 'Unsigned')
    set_param(sys+"/Gate_In"+num2str(g), 'n_bits', '32')
    set_param(sys+"/Gate_In"+num2str(g), 'bin_pt', '30')
end

set_param(sys+"/Scaling", 'scale_factor', '-31')

%% take out time
value = out.mse.signals.values();
x = value(261:360);

figure
plot(x,'-o')

